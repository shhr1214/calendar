<div class="page-header">
  <h3>Hack Scheduler</h3>

  <div class="btn-group">
    <button class="btn" data-calendar-nav="prev">
      <i class="glyphicon glyphicon-chevron-left"></i>
    </button>
    <button class="btn" data-calendar-nav="today">
      Today
    </button>
    <button class="btn" data-calendar-nav="next">
      <i class="glyphicon glyphicon-chevron-right"></i>
    </button>
  </div>

  <div class="btn-group">
    <button class="btn" data-calendar-view="year">Year</button>
    <button class="btn" data-calendar-view="month">Month</button>
    <button class="btn" data-calendar-view="week">Week</button>
    <button class="btn" data-calendar-view="day">Day</button>

    <%= link_to t('new', default: t("helpers.links.new")),  new_event_path,
                  class: 'btn btn-primary' %>
  </div>
</div>

<div id="calendar"></div>

<script type="text/javascript">
  //option
  "use strict";
  //event data
  var events = {
      "id": 1222,                   // id
      "title": "Event 1222",        // タイトル
      "url": "http://kwski.net",    // リンク
      "class": "event-important",   // class
      "start": 1507075748000,       // 開始日時(ミリ秒まで)
      "end": 1508089748000          // 終了日時(ミリ秒まで)
  };
  // option
  var options = {
      tmpl_path: '/tmpls/',    // テンプレートファイル パス
      events_source: function () { return [events]; },    //  イベントデータ
      //language: 'ja-JP',       // カレンダー日本語化
      onAfterViewLoad: function(view) {
          $('.page-header h3').text(this.getTitle());
          $('.btn-group button').removeClass('active');
          $('button[data-calendar-view="' + view +    '"]').addClass('active');
      },
      tmpl_path: "/event_calendar_tmpl/",
  };
  //view calendar
  var calendar = $("#calendar").calendar(options);
  //navigation click
  $('.btn-group button[data-calendar-nav]').each(function() {
      var $this = $(this);
      $this.click(function() {
        calendar.navigate($this.data('calendar-nav'));
        });
      });
  //view switch button click
  $('.btn-group button[data-calendar-view]').each(function() {
      var $this = $(this);
      $this.click(function() {
        calendar.view($this.data('calendar-view'));
        });
      });
  </script>